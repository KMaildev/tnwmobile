{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/src/views/refresh/RefreshProperty.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/src/views/refresh/RefreshProperty.vue","mtime":1647350690291},{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/cache-loader/dist/cjs.js","mtime":1645262070880},{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/thread-loader/dist/cjs.js","mtime":1645262070668},{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/babel-loader/lib/index.js","mtime":1645262072606},{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/cache-loader/dist/cjs.js","mtime":1645262070880},{"path":"/Applications/XAMPP/xamppfiles/htdocs/mobile/tnw/node_modules/vue-loader/lib/index.js","mtime":1645262073184}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEhUVFAgfSBmcm9tICJAL3VzZS9odHRwLWNvbW1vbiI7CmltcG9ydCBMb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL0xvYWRlciI7CmltcG9ydCBQYWNrYWdlTm9PcmRlckZlZnJlc2ggZnJvbSAiQC9jb21wb25lbnRzL1BhY2thZ2VOb09yZGVyRmVmcmVzaCI7CmltcG9ydCBEYWlseVJlZnJlc2hBbGVydCBmcm9tICJAL2NvbXBvbmVudHMvRGFpbHlSZWZyZXNoQWxlcnQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWZyZXNoUHJvcGVydHkiLAoKICBjb21wb25lbnRzOiB7CiAgICBMb2FkZXIsCiAgICBQYWNrYWdlTm9PcmRlckZlZnJlc2gsCiAgICBEYWlseVJlZnJlc2hBbGVydCwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkOiB0cnVlLAogICAgICB0bnd1c2VyZGF0YXN0b3JlOiB7fSwKICAgICAgbm9fb2ZfcmVmcmVzaF9hZDogMCwKICAgICAgdG9kYXlfbm9fb2ZfcmVmcmVzaDogMCwKICAgICAgc3VjY2VzczogIiIsCiAgICAgIGVycm9yOiAiIiwKCiAgICAgIHByb3BlcnR5RGV0YWlsOiB7fSwKICAgICAgcHJvcGVydHlQaG90b3M6IFtdLAogICAgICB0YXRuYXl3b246IHt9LAogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBzd2lwZShkaXJlY3Rpb24pIHsKICAgICAgdGhpcy5zd2lwZURpcmVjdGlvbiA9IGRpcmVjdGlvbjsKICAgICAgaWYgKGRpcmVjdGlvbikgewogICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICJSaWdodCIpIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGZldGNoX3BhY2thZ2UoKSB7CiAgICAgIHZhciB1c2VySWQgPSB0aGlzLnRud3VzZXJkYXRhc3RvcmUudXNlcl9pZDsKICAgICAgSFRUUC5nZXQoYHBhY2thZ2UvbnVtYmVyX29mX3JlZnJlc2hfZGFpbHkvJHt1c2VySWR9YCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMubm9fb2ZfcmVmcmVzaF9hZCA9IHJlc3BvbnNlLmRhdGEubnVtYmVyX29mX3JlZnJlc2hfZGFpbHk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMubm9fb2ZfcmVmcmVzaF9hZCA9IDA7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIHRvZGF5X3JlZnJlc2hfYWRfY291bnRlcigpIHsKICAgICAgdmFyIHVzZXJJZCA9IHRoaXMudG53dXNlcmRhdGFzdG9yZS51c2VyX2lkOwogICAgICBIVFRQLmdldChgcmVmcmVzX2FkL2luZGV4LyR7dXNlcklkfWApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnRvZGF5X25vX29mX3JlZnJlc2ggPSByZXNwb25zZS5kYXRhLnRvZGF5X3JlZnJlc2hfYWRfY291bnRlcjsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy50b2RheV9ub19vZl9yZWZyZXNoID0gMDsKICAgICAgICB9KTsKICAgIH0sCgogICAgUmVmcmVzaEFkTm93OiBmdW5jdGlvbiAoaWQpIHsKICAgICAgdmFyIHVzZXJJZCA9IHRoaXMudG53dXNlcmRhdGFzdG9yZS51c2VyX2lkOwogICAgICBIVFRQLmdldChgcHJvcGVydHkvcmVmcmVzaGFkLyR7aWR9LyR7dXNlcklkfWApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gIlJlZnJlc2ggQUQg4YCV4YC84YCu4YC44YCV4YCr4YCV4YC84YCuIjsKICAgICAgICAgICAgdGhpcy5lcnJvciA9ICIiOwoKICAgICAgICAgICAgdGhpcy5mZXRjaF9wYWNrYWdlKCk7CiAgICAgICAgICAgIHRoaXMudG9kYXlfcmVmcmVzaF9hZF9jb3VudGVyKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSAi4YCZ4YCh4YCx4YCs4YCE4YC64YCZ4YC84YCE4YC64YCV4YCrIjsKICAgICAgICAgIHRoaXMuc3VjY2VzcyA9ICIiOwogICAgICAgIH0pOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaF9wYWNrYWdlKCk7CiAgICB0aGlzLnRvZGF5X3JlZnJlc2hfYWRfY291bnRlcigpOwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBsZXQgdG53dXNlcnN0b3JlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRud3VzZXJzdG9yZSIpOwogICAgdGhpcy50bnd1c2VyZGF0YXN0b3JlID0gSlNPTi5wYXJzZSh0bnd1c2Vyc3RvcmUpOwoKICAgIEhUVFAuZ2V0KGBwcm9wZXJ0eS9kZXRhaWwvJHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9YCkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5wcm9wZXJ0eURldGFpbCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB0aGlzLnByb3BlcnR5UGhvdG9zLnB1c2goLi4ucmVzcG9uc2UuZGF0YS5waG90byk7CiAgICAgICAgdGhpcy50YXRuYXl3b24gPSByZXNwb25zZS5kYXRhLnRhdG5heXdvbjsKICAgICAgICB0aGlzLmlzTG9hZCA9IGZhbHNlOwogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICB0aGlzLmlzTG9hZCA9IHRydWU7CiAgICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["RefreshProperty.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RefreshProperty.vue","sourceRoot":"src/views/refresh","sourcesContent":["<template>\n  <div\n    v-touch=\"{\n      left: () => swipe('Left'),\n      right: () => swipe('Right'),\n      up: () => swipe('Up'),\n      down: () => swipe('Down'),\n    }\"\n  >\n    <v-alert dense outlined type=\"success\" v-if=\"success\" style=\"margin: 2px\">\n      {{ success }}\n    </v-alert>\n\n    <v-alert dense outlined type=\"danger\" v-if=\"error\" style=\"margin: 2px\">\n      {{ error }}\n    </v-alert>\n\n    <v-simple-table class=\"mb-2\">\n      <template>\n        <tbody style=\"background-color: #fafafa\">\n          <tr>\n            <td style=\"font-size: 12px\">\n              နေ့စဉ် Refresh ပြုလုပ်နိုင်သည့်အရေအတွက်\n            </td>\n            <td style=\"font-size: 12px\">\n              {{ no_of_refresh_ad }}\n            </td>\n          </tr>\n\n          <tr>\n            <td style=\"font-size: 12px\">ယနေ့ Refresh ပြုလုပ်ပြီးသောအရေအတွက်</td>\n            <td style=\"font-size: 12px\">{{ today_no_of_refresh }}</td>\n          </tr>\n\n          <tr>\n            <td style=\"font-size: 12px\">\n              Refresh ပြုလုပ်ရန်ကျန်ရှိသောအရေအတွက်\n            </td>\n            <td style=\"font-size: 12px\">\n              {{ (PostTotal = +(no_of_refresh_ad - today_no_of_refresh)) }}\n            </td>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n\n    <div v-if=\"no_of_refresh_ad == 0\">\n      <PackageNoOrderFefresh />\n    </div>\n\n    <div v-else-if=\"PostTotal == 0\">\n      <DailyRefreshAlert />\n    </div>\n\n    <div v-else>\n      <v-alert color=\"warning\">\n        <div class=\"\" style=\"color: white; font-weight: bold; font-size: 20px\">\n          ဤအိမ်ခြံမြေအား Refresh AD ပြုလုပ်မည်\n        </div>\n        <br />\n        <p style=\"color: white; font-weight: bold\">\n          {{ propertyDetail.title_mm }}\n          <br />\n          ကြော်ငြာနံပါတ် - {{ propertyDetail.ad_number }}\n          <br />\n          စျေးနှုန်း -\n          {{ propertyDetail.price }}\n          {{\n            propertyDetail.price_type == \"MMK(Lakhs)\" ? \"သိန်း(ကျပ်)\" : \"USD\"\n          }}\n        </p>\n      </v-alert>\n\n      <v-btn block color=\"warning\" @click=\"RefreshAdNow($route.params.id)\">\n        Refresh AD\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { HTTP } from \"@/use/http-common\";\nimport Loader from \"@/components/Loader\";\nimport PackageNoOrderFefresh from \"@/components/PackageNoOrderFefresh\";\nimport DailyRefreshAlert from \"@/components/DailyRefreshAlert\";\n\nexport default {\n  name: \"RefreshProperty\",\n\n  components: {\n    Loader,\n    PackageNoOrderFefresh,\n    DailyRefreshAlert,\n  },\n\n  data() {\n    return {\n      isLoad: true,\n      tnwuserdatastore: {},\n      no_of_refresh_ad: 0,\n      today_no_of_refresh: 0,\n      success: \"\",\n      error: \"\",\n\n      propertyDetail: {},\n      propertyPhotos: [],\n      tatnaywon: {},\n    };\n  },\n\n  methods: {\n    swipe(direction) {\n      this.swipeDirection = direction;\n      if (direction) {\n        if (direction === \"Right\") {\n          this.$router.go(-1);\n        }\n      }\n    },\n\n    async fetch_package() {\n      var userId = this.tnwuserdatastore.user_id;\n      HTTP.get(`package/number_of_refresh_daily/${userId}`)\n        .then((response) => {\n          this.no_of_refresh_ad = response.data.number_of_refresh_daily;\n        })\n        .catch((e) => {\n          this.no_of_refresh_ad = 0;\n        });\n    },\n\n    async today_refresh_ad_counter() {\n      var userId = this.tnwuserdatastore.user_id;\n      HTTP.get(`refres_ad/index/${userId}`)\n        .then((response) => {\n          this.today_no_of_refresh = response.data.today_refresh_ad_counter;\n        })\n        .catch((e) => {\n          this.today_no_of_refresh = 0;\n        });\n    },\n\n    RefreshAdNow: function (id) {\n      var userId = this.tnwuserdatastore.user_id;\n      HTTP.get(`property/refreshad/${id}/${userId}`)\n        .then((response) => {\n          if (response.status === 200) {\n            this.success = \"Refresh AD ပြီးပါပြီ\";\n            this.error = \"\";\n\n            this.fetch_package();\n            this.today_refresh_ad_counter();\n          }\n        })\n        .catch((e) => {\n          this.error = \"မအောင်မြင်ပါ\";\n          this.success = \"\";\n        });\n    },\n  },\n\n  mounted() {\n    this.fetch_package();\n    this.today_refresh_ad_counter();\n  },\n\n  created() {\n    let tnwuserstore = localStorage.getItem(\"tnwuserstore\");\n    this.tnwuserdatastore = JSON.parse(tnwuserstore);\n\n    HTTP.get(`property/detail/${this.$route.params.id}`)\n      .then((response) => {\n        this.propertyDetail = response.data.data;\n        this.propertyPhotos.push(...response.data.photo);\n        this.tatnaywon = response.data.tatnaywon;\n        this.isLoad = false;\n      })\n      .catch((e) => {\n        this.isLoad = true;\n      });\n  },\n};\n</script>"]}]}